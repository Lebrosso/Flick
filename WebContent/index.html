<!DOCTYPE html>
<html ng-app="imageViewer">
<head>
  <title>Photo Viewer</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular-resource.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.23/angular-sanitize.min.js"></script>
  
  <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>

<body>

   Search: <input ng-model="query">

   <div id ="picsContainer" ng-controller="AppGallery">
      <ul>
    <div   class =  "pics"  ng-repeat="x in data | filter:query ">
    <img src = "{{x.media.m}}"/><br>
    <a ng-href="{{x.media.m}}">{{x.title}}</a>
      <span>&nbsp;&nbsp;by&nbsp;&nbsp;</span>
      <a ng-href="{{x.link}}">{{x.author}}</a><br>
     
      <div class = "desc-wrapper">
      <p ng-bind-html="x.description "></p>
      </div>
    
      <br>
      {{ x.tags }}<br>
    </div>
  </ul>
    <!--   {{data}}  -->
  
  </div>


<script>
angular.module('photoApp',['ngRoute']).config(function($httpProvider){
	  delete $httpProvider.defaults.headers.common['X-Requested-With'];
	});
	
	
	
var app = angular.module('imageViewer', ['ng', 'ngResource','ngSanitize']);

app.controller('AppGallery',[ '$scope','$http', function AppGallery($scope, $http) {
$http.jsonp('https://api.flickr.com/services/feeds/photos_public.gne?format=json').success(function (data) {
  
});
	
	jsonFlickrFeed = function(data){
	$scope.data = data.items;

	}
}]);

angular.module('scroll', []).directive('whenScrolled', function() {
    return function(scope, elm, attr) {
        var raw = elm[0];
        
        elm.bind('scroll', function() {
            if (raw.scrollTop + raw.offsetHeight >= raw.scrollHeight) {
                scope.$apply(attr.whenScrolled);
            }
        });
    };
});
</script>





</body>
</html>